# gotcpNet

## part I

### 理论知识

我们想要实现用go实现一个应用层的tcp协议，我们首先要找到一个方法，让我们自己编写的协议能够接受IP协议发给我们的数据包，也要能够让某个进程生成的socket通过我们来与下面的层交换数据。

我们用的方法是tun/tap

> 在计算机网络中，**tun**与**tap**是操作系统内核中的虚拟网络设备。不同于普通靠硬件网络适配器实现的设备，这些虚拟的网络设备全部用软件实现，并向运行于操作系统上的软件提供与硬件的网络设备完全相同的功能。

tun是网络层的虚拟网络设备，可以收发第三层数据报文包，如IP封包，因此常用于一些点对点IP隧道，例如OpenVPN，IPSec等。

tap是链路层的虚拟网络设备，等同于一个以太网设备，它可以收发第二层帧，如以太网数据帧。tap最常见的用途就是做为虚拟机的网卡，因为它和普通的物理网卡更加相近，也经常用作普通机器的虚拟网卡。